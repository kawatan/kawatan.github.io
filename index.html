<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="魔法少女ミルヒちゃん">
    <meta property="og:title" content="魔法少女ミルヒちゃん" />
    <meta property="og:description" content="教えた言葉でかわいいキャラクターが気ままにおしゃべりするWindows/iOSアプリ「Apricot」" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="http://milchchan.com/" />
    <meta property="og:image" content="http://milchchan.com/images/Milch.png" />
    <meta property="twitter:card" content="summary" />
    <meta property="twitter:site" content="@kawatan" />
    <meta property="twitter:title" content="魔法少女ミルヒちゃん" />
    <meta property="twitter:description" content="教えた言葉でかわいいキャラクターが気ままにおしゃべりするWindows/iOSアプリ「Apricot」" />
    <meta property="twitter:image" content="http://milchchan.com/images/Milch.png" />
    <meta property="twitter:url" content="http://milchchan.com/" />
    <title>MILCHCHAN.COM</title>
    <link rel="shortcut icon" href="http://milchchan.com/favicon.ico" />
    <link href="css/bootstrap.css" rel="stylesheet">
    <link href="css/lightbox.css" rel="stylesheet">
    <link href="css/layout.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Roboto:400,100,100italic,300,300italic,400italic,500,700,500italic,700italic,900,900italic|Open+Sans' rel='stylesheet' type='text/css'>
</head>
<body>
    <!--<div id="flyout">
        <ul class="list-inline">
            <li class="button"><a href="https://kawatan.booth.pm/" class="btn btn-flyout-highlight btn-lg">BOOTH</a></li>
            <li class="button accent"><a href="http://blog.apricot.moe/" class="btn btn-flyout btn-lg">Blog</a></li>
            <li class="button"><a href="http://www.apricotan.net/" class="btn btn-flyout btn-lg"><i class="fa fa-home"></i></a></li>
        </ul>
    </div>-->
    <div id="top" class="header">
        <div class="annotations">
            <div><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://milchchan.com/" data-via="kawatan" data-lang="en" data-related="anywhereTheJavascriptAPI">Tweet</a><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></div>
        </div>
        <div class="background">
            <div class="blind"></div>
        </div>
        <div class="vert-text">
            <h1><span class="accent typing">Magical Milch Chan</span></h1>
            <h5><span class="accent typing">milchchan.com</span></h5>
        </div>
    </div>
    <div id="about" class="highlight">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h2 class="accent">Information</h2>
                    <h5 class="accent">最新情報</h5>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h3 class="accent">2015/08/16</h3>
                    <p class="lead">コミックマーケット88(3日目西く-22b)にて、魔法少女ミルヒちゃんの漫画をだしました！</p>
                </div>
            </div>
        </div>
    </div>
    <div id="characters" class="highlight">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h2 class="accent">Characters</h2>
                    <h5 class="accent">キャラクター紹介</h5>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h3 class="accent">Milch</h3>
                    <h6 class="accent">ミルヒ</h6>
                    <p class="lead">つるぺた幼女。お友達のメルクちゃんに無理やり恥ずかしい魔法少女の衣装を着せられて、インターネット上でライブ配信する番組に出演することになってしまった。特筆すべき点は、何かあるとつい失禁してしまう癖。</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 text-center">
                    <div class="normal-item">
                        <img class="img-normal img-circle img-responsive" src="/images/Milch1.png" alt="ミルヒ(冬服)" />
                        <h4>冬服</h4>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="normal-item">
                        <img class="img-normal img-circle img-responsive" src="/images/Milch2.png" alt="ミルヒ(夏服)" />
                        <h4>夏服</h4>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="normal-item">
                        <img class="img-normal img-circle img-responsive" src="/images/Milch3.png" alt="ミルヒ(魔法少女服)" />
                        <h4>魔法少女服</h4>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h3 class="accent">Merku</h3>
                    <h6 class="accent">メルク</h6>
                    <p class="lead">ミルヒちゃんのことが大好きな同い年のお友達。ミルヒちゃんの可愛さを世界に配信するべく、ミルヒちゃんに無理やり魔法少女の衣装を着させてインターネット上でライブ配信する番組を始めた変態。あと、おっぱい。</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 text-center">
                    <div class="normal-item">
                        <img class="img-normal img-circle img-responsive" src="/images/Merku1.png" alt="ミルヒ(冬服)" />
                        <h4>冬服</h4>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="normal-item">
                        <img class="img-normal img-circle img-responsive" src="/images/Merku2.png" alt="ミルヒ(夏服)" />
                        <h4>夏服</h4>
                    </div>
                </div>
                <div class="col-md-4 text-center">
                    <div class="normal-item">
                        <img class="img-normal img-circle img-responsive" src="/images/Merku3.png" alt="ミルヒ(魔法少女服)" />
                        <h4>魔法少女服</h4>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="apps" class="highlight">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h2 class="accent">Apps</h2>
                    <h5 class="accent">アプリ</h5>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h3 class="accent">Apricot</h3>
                    <h6 class="accent">アプリコット</h6>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <p>教えた言葉でキャラクターが気ままにおしゃべりするエージェント。</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <ul class="list-inline">
                        <li class="button"><a href="http://www.apricotan.net/wp-content/uploads/Apricot780.zip" class="btn btn-primary btn-lg" onclick="javascript:ga('send', 'pageview', '/wp-content/uploads/Apricot780.zip');"><i class="fa fa-windows"></i> Windows <small>Desktop</small></a></li>
                        <li class="button"><a href="http://apps.microsoft.com/windows/app/apricot/3278bb5e-c92f-45e1-8014-27c9cee68e25" class="btn btn-primary btn-lg"><i class="fa fa-windows"></i> Windows <small>Store App</small></a></li>
                        <li class="button"><a href="https://itunes.apple.com/jp/app/apricotan/id511883414?l=ja&amp;ls=1&amp;mt=8" class="btn btn-primary btn-lg"><i class="fa fa-apple"></i> iOS</a></li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h3 class="accent">Lollipop</h3>
                    <h6 class="accent">ロリポップ</h6>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <p>4コマ漫画ジェネレータ。</p>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <ul class="list-inline">
                        <li class="button"><a href="http://apps.microsoft.com/windows/app/74c9fc2f-a274-4fad-bbf1-bd9e6c1dc20c" class="btn btn-primary btn-lg"><i class="fa fa-windows"></i> Windows <small>Store App</small></a></li>
                        <li class="button"><a href="https://itunes.apple.com/jp/app/lollipop-the-comic-generator/id973974456?l=ja&mt=8" class="btn btn-primary btn-lg"><i class="fa fa-apple"></i> iOS</a></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div id="comics" class="highlight">
        <div class="container">
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <h2 class="accent">Comics</h2>
                    <h5 class="accent">漫画</h5>
                    <hr>
                </div>
            </div>
            <div class="row">
                <div class="col-md-2 col-md-offset-2 text-center">
                    <div class="highlight-item">
                        <img class="img-normal img-rounded img-responsive" src="/images/Milch-Yoshiko1.jpg" alt="1コマ目">
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <div class="highlight-item">
                        <img class="img-normal img-rounded img-responsive" src="/images/Milch-Yoshiko2.jpg" alt="2コマ目">
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <div class="highlight-item">
                        <img class="img-normal img-rounded img-responsive" src="/images/Milch-Yoshiko3.jpg" alt="3コマ目">
                    </div>
                </div>
                <div class="col-md-2 text-center">
                    <div class="highlight-item">
                        <img class="img-normal img-rounded img-responsive" src="/images/Milch-Yoshiko4.jpg" alt="4コマ目">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-8 col-md-offset-2 text-center">
                    <p><a href="http://seiga.nicovideo.jp/comic/15600" class="btn btn-lg btn-primary"><i class="fa fa-link"></i> ニコニコ静画で漫画を読む</a></p>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 text-center">
                    <div class="top-scroll">
                        <a href="#top"><i class="fa fa-arrow-up scroll animatable"></i></a>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-md-offset-2">
                    <div class="section">
                        <h4>みずは</h4>
                        <h6>キャラクターデザイン</h6>
                        <ul class="list-inline">
                            <li class="connection text-center"><a href="http://meg13.com/"><span class="animatable-highlight"><i class="fa fa-globe"></i></span></a></li>
                            <li class="connection text-center"><a href="https://twitter.com/megacycle13"><span class="animatable-highlight"><i class="fa fa-twitter"></i></span></a></li>
                        </ul>
                    </div>
                    <div class="section">
                        <h4>ハードボイルドよし子</h4>
                        <h6>漫画</h6>
                        <ul class="list-inline">
                            <li class="connection text-center"><a href="https://twitter.com/HByoshiko"><span class="animatable-highlight"><i class="fa fa-twitter"></i></span></a></li>
                        </ul>
                    </div>
                    <div class="section">
                        <h4>Kawatan</h4>
                        <h6>プランニング/プログラミング/デザイン</h6>
                        <ul class="list-inline">
                            <li class="connection text-center"><a href="http://www.apricotan.net/"><span class="animatable-highlight"><i class="fa fa-globe"></i></span></a></li>
                            <li class="connection text-center"><a href="https://www.facebook.com/apricotan.net"><span class="animatable-highlight"><i class="fa fa-facebook"></i></span></a></li>
                            <li class="connection text-center"><a href="https://twitter.com/kawatan"><span class="animatable-highlight"><i class="fa fa-twitter"></i></span></a></li>
                        </ul>
                    </div>
                </div>
                <div class="col-md-2">
                    <p>魔法少女ミルヒちゃんのキャラクターのミルヒちゃんとメルクちゃんは<a href="https://creativecommons.org/licenses/by/4.0/deed.ja">クリエイティブ・コモンズ 表示 4.0 ライセンスの下に提供されています。</a></p>
                    <p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/80x15.png" /></a></p>
                </div>
                <div class="col-md-2">
                    <ul class="resources">
                        <li><a href="mailto:kawatan@gmail.com">kawatan@gmail.com</a></li>
                    </ul>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4 col-md-offset-2">
                    <p class="legal">&copy; milchchan.com</p>
                </div>
            </div>
        </div>
    </footer>
    <script src="js/jquery-1.10.2.js"></script>
    <script src="js/jquery.easing.1.3.js"></script>
    <script src="js/lightbox.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-313424-1', 'auto');
  ga('send', 'pageview');

        var queue = new Array();

        $(function () {
            $('a[href*=#]:not([href=#])').click(function () {
                if (location.pathname.replace(/^\//, '') == this.pathname.replace(/^\//, '') || location.hostname == this.hostname) {
                    var target = $(this.hash);

                    target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');

                    if (target.length) {
                        $('html,body').animate({
                            scrollTop: target.offset().top
                        }, 1000);
                        return false;
                    }
                }
            });
            
            $('.selectable').hover(
                function() {
                    $(this).stop().animate({'opacity': '0.5'}, 'normal');
                },
                function() {
                    $(this).stop().animate({'opacity': '1'}, 'normal');
            });
            
            function shuffle(array) {
                function random(min, max) {
                    return Math.floor(Math.random() * (max - min + 1)) + min;
                }
                
                var length = 0;
                
                for (var i in array) {
                    length++;
                }

                var a = new Array(length);
                var n = 0;

                for (var i in array) {
                    a[n] = array[i];
                    n++;
                }
                
                while (n > 1)
                {
                    var k = random(0, n);

                    n--;

                    var temp = a[n];

                    a[n] = a[k];
                    a[k] = temp;
                }

                return a;
            }
            
            queue.push(new Array('/images/Background-Milch1.jpg', '/images/Background-Milch2.jpg', '/images/Background-Milch3.jpg', '/images/Background-Milch2.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg', '/images/Background-Milch1.jpg'));
            queue.push(new Array('/images/Background-Milch4.jpg', '/images/Background-Milch5.jpg', '/images/Background-Milch6.jpg', '/images/Background-Milch5.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg', '/images/Background-Milch4.jpg'));
            queue.push(new Array('/images/Background-Milch7.jpg', '/images/Background-Milch8.jpg', '/images/Background-Milch9.jpg', '/images/Background-Milch8.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg', '/images/Background-Milch7.jpg'));
            queue.push(new Array('/images/Background-Milch10.jpg', '/images/Background-Milch11.jpg', '/images/Background-Milch12.jpg', '/images/Background-Milch11.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg', '/images/Background-Milch10.jpg'));
            
            queue = shuffle(queue);
            
            var urls = queue.shift();
            
            queue.push(urls);
            
            var q = new Array();
            
            for (var i in urls) {
                q.push(urls[i]);
            }
            
            function onLoad1() {
                if (q.length > 0) {
                    $(this).after($('<img />')
                        .attr('class', 'background')
                        .attr('src', q.shift())
                        .attr('alt', 'Background')
                        .bind('load', onLoad1));
                    
                    return;
                }
                
                $('div.blind').animate({ 'margin-top': '-100%' }, 1000, 'easeInExpo', function () {
                    var parent = $(this).parent();
                    
                    $(this).remove();
                    $('img.background').each(function (index, element) {
                        $(this)
                            .css('visibility', 'hidden')
                            .css('animation-name', 'loop')
                            .css('animation-duration', '2s')
                            .css('animation-timing-function', 'steps(20)')
                            .css('animation-delay', 0.1 * index + 's')
                            .css('animation-iteration-count', 'infinite')
                            .css('animation-fill-mode', 'forwards')
                            .css('animation-play-state', 'running');
                    });
                    
                    setTimeout(function onTick() {
                        var blind = $('div.blind')
                        var div = blind.length == 0 ? $('<div />').attr('class', 'blind').css('margin-top', '100%').appendTo(parent) : blind;
                        
                        div.animate({ 'margin-top': '0%' }, 1000, 'easeOutExpo', function () {
                            var array = queue.shift();
                        
                            queue.push(array);
                            
                            for (var i in array) {
                                q.push(array[i]);
                            }
                        
                            $('img.background').unbind('load');
                            $('img.background').remove();
                            
                            function onLoad2() {
                                if (q.length > 0) {
                                    $(this).after($('<img />')
                                        .attr('class', 'background')
                                        .attr('src', q.shift())
                                        .attr('alt', 'Background')
                                        .bind('load', onLoad2));
                                    
                                    return;
                                }
                                
                                function random(min, max) {
                                    return Math.floor(Math.random() * (max - min + 1)) + min;
                                }
                                
                                $('div.blind').delay(random(500, 1000)).animate({ 'margin-top': '-100%' }, 1000, 'easeInExpo', function () {
                                    $(this).remove();
                                    $('img.background').each(function (index, element) {
                                        $(this)
                                            .css('visibility', 'hidden')
                                            .css('animation-name', 'loop')
                                            .css('animation-duration', '2s')
                                            .css('animation-timing-function', 'steps(20)')
                                            .css('animation-delay', 0.1 * index + 's')
                                            .css('animation-iteration-count', 'infinite')
                                            .css('animation-fill-mode', 'forwards')
                                            .css('animation-play-state', 'running');
                                    });
                                });
                            }
                            
                            parent.prepend($('<img />')
                                .attr('class', 'background')
                                .attr('src', q.shift())
                                .attr('alt', 'Background')
                                .bind('load', onLoad2));
                        });
                        
                        setTimeout(onTick, 10000);
                    }, 10000);
                });
            }
            
            $('div.background').prepend($('<img />')
                .attr('class', 'background')
                .attr('src', q.shift())
                .attr('alt', 'Background')
                .bind('load', onLoad1));
                
            var messageDictionary = {};
            
            $('.typing').each(function (index, element) {
                messageDictionary[index] = { element:element, 'text':$(element).text(), 'count':0, 'buffer':'' };
                $(element).text('');
            });
            
            setTimeout(function onTick() {
                if (Object.keys(messageDictionary).length > 0) {
                    var keyArray = new Array();
                    
                    for (key in messageDictionary) {
                        var text = messageDictionary[key].text;
                        var buffer = messageDictionary[key].buffer;
                        
                        if (text.length == buffer.length) {
                            text = buffer;
                            keyArray.push(key);
                        } else {
                            function random(min, max) {
                                return Math.floor(Math.random() * (max - min + 1)) + min;
                            }
                            
                            var randomMessageLength = messageDictionary[key].count;
                            var charArray = new Array();
                            var randomBuffer = "";
                            
                            for (var i = 0; i < text.length; i++) {
                                if (charArray.indexOf(text.charAt(i)) == -1/* && text.charAt(i).match(/\s/) != null*/) {
                                    charArray.push(text.charAt(i));
                                }
                            }
                            
                            for (var i = 0; i < randomMessageLength; i++) {
                                if (charArray.length > 0) {
                                    randomBuffer += charArray[random(0, charArray.length)];
                                }
                            }
                            
                            if (randomBuffer.length > buffer.length) {
                                $(messageDictionary[key].element).text(buffer + randomBuffer.substring(buffer.length, randomBuffer.length));
                            } else {
                                $(messageDictionary[key].element).text(buffer);
                            }
                            
                            
                            
                            console.log(key);
                            console.log(messageDictionary[key].buffer);
                        }
                    }
                    
                    for (key in keyArray) {
                        delete messageDictionary[key];
                        console.log("remove");
                        console.log(key);
                    }
                } else {
                    //setTimeout(onTick, 16);
                }
            }, 16);
            
            setTimeout(function onTick() {
                var stopRequired = true;
                
                for (key in messageDictionary) {
                    var text = messageDictionary[key].text;
                    var randomMessageLength = messageDictionary[key].count;
                    var buffer = messageDictionary[key].buffer;
                    
                    if (buffer.length < text.length) {
                        var index = buffer.length;
                        
                        if (index < text.length) {
                            var width = Math.floor(text.length / 2);
                            var length = text.length;
                            
                            if (randomMessageLength >= width) {
                                buffer += text.charAt(index);
                                messageDictionary[key].buffer = buffer;
                            }
                            
                            if (randomMessageLength < length) {
                                messageDictionary[key].count += 1;
                            }
                        }
                        
                        stopRequired = false;
                    }
                }
                
                if (!stopRequired) {
                    setTimeout(onTick, 20);
                }
            }, 20);
        });
    </script>
</body>
</html>
